#!/bin/bash
# Remote TTS via portal (auto-detects room from AGENTWIRE_ROOM or tmux session)

# Get room name from environment or tmux session
room="${AGENTWIRE_ROOM:-$(tmux display-message -p '#S' 2>/dev/null)}"

if [ -z "$room" ]; then
  echo "Error: Not in a tmux session and AGENTWIRE_ROOM not set" >&2
  exit 1
fi

# Forward to agentwire say with --room flag
exec agentwire say --room "$room" "$@"
